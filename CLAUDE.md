# CLAUDE.md

This file provides guidance to Claude Code (claude.ai/code) when working with code in this repository.

## Overview

This is a documentation downloader and viewer tool. It fetches documentation from websites, converts it to markdown, and provides both a web viewer and export functionality for feeding to LLMs.

## Common Commands

```bash
# Download documentation from a website
./download-docs.sh <package-name> <url>

# View all downloaded packages (start HTTP server)
python3 -m http.server 8080
# Open: http://localhost:8080/viewer.html

# Export markdown for AI consumption
./export-for-ai.sh <package-name>
./export-for-ai.sh <package-name> output.md          # Save to file
./export-for-ai.sh <package-name> | pbcopy           # Copy to clipboard (macOS)
./export-for-ai.sh <package-name> | xclip -selection clipboard  # Copy to clipboard (Linux)
```

## Architecture

The tool has three main components:

### 1. Download Script (`download-docs.sh`)
- Attempts to fetch docs via `llms.txt` (single-file LLM format) if available
- Falls back to `wget` crawling + `html2text` conversion
- Creates a `manifest.json` listing all downloaded packages
- Output structure: `<package-name>/markdown/*.md` and `<package-name>/raw/` (if crawled)

### 2. Viewer (`viewer.html`)
- Reads `manifest.json` to display list of packages
- Can display either:
  - Markdown files (for llms.txt packages) via `marked.js`
  - Raw HTML (for crawled packages) in an iframe
- "Copilot" tab shows VS Code settings.json snippet for wiring docs to GitHub Copilot

### 3. Export Script (`export-for-ai.sh`)
- Concatenates all markdown files from a package
- Handles both single-file (llms.txt) and multi-file packages
- Outputs to stdout or saves to file for easy AI ingestion

## Key Files

- **download-docs.sh** - Main download logic; creates packages and manifest.json
- **viewer.html** - Web UI for browsing downloaded docs
- **export-for-ai.sh** - Exports markdown for LLM feeding
- **manifest.json** - Auto-generated index of downloaded packages (created by download-docs.sh)

## Important Notes

- The `manifest.json` file is generated by the download script and is essential for the viewer to work
- Packages are stored in directories with the name you provide (e.g., `./fastapi/`)
- Two download methods are detected automatically:
  - **llms.txt method**: Creates `<package-name>/markdown/all-docs.md`
  - **wget method**: Creates multiple files in `<package-name>/markdown/` and raw HTML in `<package-name>/raw/`
- Python 3 with `html2text` must be available (auto-installed on first run)
